<!doctype html>
<html lang="pl">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>{% block title %}Panel lekarza{% endblock %}</title>

  <!-- Bootstrap 3 -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@3.4.1/dist/css/bootstrap.min.css" rel="stylesheet">
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@3.4.1/dist/js/bootstrap.min.js"></script>

  <!-- THEME LEKARZA -->
  <link rel="stylesheet" href="{{ url_for('static', filename='doctor/css/style.css') }}">

  <style>
    /* ===== BODY ===== */
    body.doctor-page {
      margin: 10px 0;
      padding: 0;
    }

    /* ===== WRAPPER FULL HD ===== */
    .doctor-container {
      width: 100%;
      max-width: 1920px;
      margin: 0 auto;
      padding-left: 24px;
      padding-right: 24px;
    }

    /* ===== MENU DOKTORA ===== */
    .doctor-nav {
      margin-bottom: 15px;
      overflow: hidden;
    }

    .doctor-nav a {
      display: inline-block;
      margin-right: 10px;
      margin-bottom: 6px;
      padding: 8px 14px;
      border-radius: 6px;
      text-decoration: none;
      background: #f5f5f5;
      color: #333;
      font-weight: bold;
    }

    .doctor-nav a:hover {
      background: #e0e0e0;
    }

    .doctor-nav a.active {
      background: #337ab7;
      color: #fff;
    }

    .doctor-nav a.logout {
      float: right;
      background: #f8d7da;
      color: #721c24;
    }

    .doctor-nav a.logout:hover {
      background: #f1b0b7;
    }

    hr {
      margin: 15px 0;
    }
  </style>

  {% block extra_head %}{% endblock %}
</head>

<body class="doctor-page">

<!-- ===== MENU (CENTROWANE, FULL HD) ===== -->
<div class="doctor-container">
  <div class="doctor-nav">
    <a href="{{ url_for('doctor.appointments') }}"
       class="{% if active_page == 'appointments' %}active{% endif %}">
       Terminarz
    </a>

    <a href="{{ url_for('doctor.calendar') }}"
       class="{% if active_page == 'calendar' %}active{% endif %}">
       Grafik
    </a>

    <a href="{{ url_for('doctor.generate_view') }}"
       class="{% if active_page == 'generate' %}active{% endif %}">
       Generowanie
    </a>

    <a href="{{ url_for('doctor.statistics') }}"
       class="{% if active_page == 'statistics' %}active{% endif %}">
       Statystyki
    </a>

    <a href="{{ url_for('doctor_visit_types.list_view') }}"
       class="{% if active_page == 'visit_types' %}active{% endif %}">
       Typy wizyt
    </a>

    <a href="{{ url_for('doctor.pending_payments') }}"
      class="{% if active_page == 'pending_payments' %}active{% endif %}">
      ðŸ’³ OczekujÄ…ce pÅ‚atnoÅ›ci
    </a>

    <a href="{{ url_for('doctor.refunds') }}"
      class="{% if active_page == 'refunds' %}active{% endif %}">
      ðŸ’¸ Zwroty
    </a>

    <a href="{{ url_for('doctor.vacations_view') }}"
       class="{% if active_page == 'vacations' %}active{% endif %}">
       Urlopy
    </a>

    <a href="{{ url_for('doctor.blacklist') }}"
       class="{% if active_page == 'blacklist' %}active{% endif %}">
       Czarna lista
    </a>

    <a href="{{ url_for('doctor.sms_list') }}"
       class="{% if active_page == 'sms' %}active{% endif %}">
       SMS
    </a>
    
    <a href="{{ url_for('doctor.email_list') }}"
      class="nav-link {% if active_page == 'email' %}active{% endif %}">
      Email
    </a>

    <a href="{{ url_for('doctor.settings_view') }}"
       class="{% if active_page == 'settings' %}active{% endif %}">
       Konfiguracja
    </a>

    <a href="{{ url_for('auth.logout') }}" class="logout">Wyloguj</a>
  </div>

  <hr>
</div>

<!-- ===== TREÅšÄ† (TEN SAM WRAPPER) ===== -->
<main class="doctor-container">

  <!-- FLASH -->
  {% with messages = get_flashed_messages(with_categories=true) %}
    {% if messages %}
      <div id="flash-container">
        {% for category, message in messages %}
          <div class="alert alert-success alert-dismissible fade in flash-msg"
               role="alert"
               style="margin-top:10px;">
            <button type="button"
                    class="close"
                    data-dismiss="alert"
                    aria-label="Close">
              <span aria-hidden="true">&times;</span>
            </button>
            {{ message }}
          </div>
        {% endfor %}
      </div>
    {% endif %}
  {% endwith %}

  {% block content %}{% endblock %}
</main>

<!-- AUTO-ZAMYKANIE FLASH -->
<script>
  $(function () {
    setTimeout(function () {
      $('.flash-msg').fadeOut(400, function () {
        $(this).remove();
      });
    }, 5000);
  });
</script>

{% block extra_scripts %}{% endblock %}

</body>
</html>
